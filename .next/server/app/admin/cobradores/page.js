(()=>{var e={};e.id=9573,e.ids=[9573],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42916:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>n}),t(29671),t(11506),t(35866);var a=t(23191),s=t(88716),i=t(37922),o=t.n(i),c=t(95231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(r,l);let n=["",{children:["admin",{children:["cobradores",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29671)),"C:\\Garden\\app\\admin\\cobradores\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"C:\\Garden\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Garden\\app\\admin\\cobradores\\page.tsx"],x="/admin/cobradores/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/cobradores/page",pathname:"/admin/cobradores",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},50475:(e,r,t)=>{Promise.resolve().then(t.bind(t,51501))},51501:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(10326),s=t(64447),i=t(67269),o=t(17577),c=t(83855),l=t(88307),n=t(42887),d=t(5932),x=t(13027),m=t(85571),h=t(12714),p=t(70003),u=t(90434);function g(){let[e,r]=(0,o.useState)([]),[t,g]=(0,o.useState)(!0),[y,f]=(0,o.useState)(""),[v,j]=(0,o.useState)(""),[b,N]=(0,o.useState)(""),[w,C]=(0,o.useState)("");async function P(){try{let e=await i.L.authenticatedFetch("/api/collectors"),t=await e.json();r(Array.isArray(t)?t:[])}catch(e){console.error("Error loading collectors:",e),r([])}finally{g(!1)}}async function k(e,r){try{(await i.L.authenticatedFetch(`/api/collectors/${e}`,{method:"PATCH",body:JSON.stringify({activo:!r})})).ok&&await P()}catch(e){console.error("Error toggling collector:",e)}}let Z=e.filter(e=>{let r=e.nombres.toLowerCase().includes(y.toLowerCase())||e.apellidos.toLowerCase().includes(y.toLowerCase())||e.codigo.toLowerCase().includes(y.toLowerCase())||e.ci.includes(y),t=!v||"activo"===v&&e.activo||"inactivo"===v&&!e.activo,a=!b||e.formaPago===b,s=!w||e.tipoCobrador===w;return r&&t&&a&&s});return t?a.jsx(s.Z,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})}):a.jsx(s.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Gesti\xf3n de Cobradores"}),a.jsx("p",{className:"text-gray-600",children:"Administra los cobradores externos del club"})]}),(0,a.jsxs)(u.default,{href:"/admin/cobradores/nuevo",className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4"}),"Nuevo Cobrador"]})]}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Nombre, c\xf3digo o CI...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:y,onChange:e=>f(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:w,onChange:e=>C(e.target.value),children:[a.jsx("option",{value:"",children:"Todos"}),a.jsx("option",{value:"EXTERNO",children:"Externos"}),a.jsx("option",{value:"PROFESOR",children:"Profesores"}),a.jsx("option",{value:"CLUB",children:"Club"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:v,onChange:e=>j(e.target.value),children:[a.jsx("option",{value:"",children:"Todos"}),a.jsx("option",{value:"activo",children:"Activos"}),a.jsx("option",{value:"inactivo",children:"Inactivos"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forma de Pago"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:b,onChange:e=>N(e.target.value),children:[a.jsx("option",{value:"",children:"Todas"}),a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{f(""),j(""),N(""),C("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Limpiar Filtros"})})]})}),a.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow",children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Total Cobradores: ",a.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cobrador"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forma de Pago"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Ingreso"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.nombres," ",e.apellidos]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.codigo," â€¢ CI: ",e.ci]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:"CLUB"===e.tipoCobrador?"Garden Club":"EXTERNO"===e.tipoCobrador?"Externo":"PROFESOR"===e.tipoCobrador?"Profesor":e.tipoCobrador||"EXTERNO"}),"EXTERNO"===e.tipoCobrador&&e.comisionPorDefecto&&(0,a.jsxs)("div",{className:"text-xs text-gray-900 mt-1",children:[e.comisionPorDefecto,"% comisi\xf3n"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-1",children:[e.celular&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(n.Z,{className:"w-3 h-3 mr-1"}),e.celular]}),e.email&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(d.Z,{className:"w-3 h-3 mr-1"}),e.email]}),e.direccion&&a.jsx("div",{className:"text-sm text-gray-900",children:e.direccion})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:(()=>{if("CLUB"===e.tipoCobrador)return"Todos los m\xe9todos";if(Array.isArray(e.formaPago)){let r={efectivo:"Efectivo",transferencia:"Transferencia",cheque:"Cheque"};return e.formaPago.map(e=>r[e]||e).join(", ")}return"efectivo"===e.formaPago?"Efectivo":"transferencia"===e.formaPago?"Transferencia":"cheque"===e.formaPago?"Cheque":e.formaPago})()}),e.cuentaBanco&&a.jsx("div",{className:"text-xs text-gray-900 mt-1",children:e.cuentaBanco})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.fechaIngreso).toLocaleDateString("es-PY")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("button",{onClick:()=>k(e.id,e.activo),className:`p-1 rounded ${e.activo?"text-green-600 hover:text-green-800":"text-gray-400 hover:text-gray-600"}`,children:e.activo?a.jsx(x.Z,{className:"w-6 h-6"}):a.jsx(m.Z,{className:"w-6 h-6"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(u.default,{href:`/admin/cobradores/${e.id}`,className:"text-primary-600 hover:text-primary-900 p-1",title:"Ver detalles",children:a.jsx(h.Z,{className:"w-4 h-4"})}),a.jsx(u.default,{href:`/admin/cobradores/${e.id}/editar`,className:"text-gray-600 hover:text-gray-900 p-1",title:"Editar",children:a.jsx(p.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})}),0===Z.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500",children:y||v||b?"No se encontraron cobradores con los filtros aplicados":"No hay cobradores registrados"}),!y&&!v&&!b&&(0,a.jsxs)(u.default,{href:"/admin/cobradores/nuevo",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-600 bg-primary-100 hover:bg-primary-200",children:[a.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Crear primer cobrador"]})]})]})]})})}},12714:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5932:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},70003:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},42887:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},83855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},85571:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]])},13027:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]])},29671:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Garden\app\admin\cobradores\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[8948,4471,6837,8750],()=>t(42916));module.exports=a})();