"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8592],{98592:function(t,e,n){n.r(e),n.d(e,{analyzeSocialQuotaStatus:function(){return i},extractPaymentMonthFromObservation:function(){return c},generateSocialQuotaObservation:function(){return l},monthCodeToText:function(){return r},monthTextToCode:function(){return u}});var o=n(45365);let a=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];function r(t){let[e,n]=t.split("-"),o=parseInt(n,10)-1;return o<0||o>11?t:"".concat(a[o]," ").concat(e)}function u(t){let e=t.toLowerCase().match(/(\w+)\s+(\d{4})/);if(!e)return null;let[,n,o]=e,r=a.findIndex(t=>t===n);if(-1===r)return null;let u=(r+1).toString().padStart(2,"0");return"".concat(o,"-").concat(u)}function c(t){for(let e of[/mes de (\w+)\s+(\d{4})/i,/cuota social\s+(\w+)\s+(\d{4})/i,/cuota social\s*-\s*(\w+)\s+(\d{4})/i,/(\w+)\s+(\d{4})\s*-?\s*cuota/i]){let n=t.match(e);if(n){let t=n[1].toLowerCase(),e=n[2],o=a.findIndex(e=>e===t);if(-1!==o){let t=(o+1).toString().padStart(2,"0");return"".concat(e,"-").concat(t)}}}return null}function i(t){let e;let n=t.filter(t=>{if("credito"!==t.tipo)return!1;let e="".concat(t.concepto," ").concat(t.observaciones||"").toLowerCase();return e.includes("cuota social")||e.includes("cuota mensual")}),o=[];for(let t of n)if(t.observaciones){let e=c(t.observaciones);e&&o.push({monthCode:e,date:t.fecha})}if(o.sort((t,e)=>e.monthCode.localeCompare(t.monthCode)),0===o.length)return{lastPaidMonth:null,lastPaidMonthText:null,currentStatus:"unknown",monthsBehind:0,suggestedPaymentMonth:r(s()),suggestedPaymentMonthCode:s()};let a=o[0].monthCode,u=function(t,e){let[n,o]=t.split("-").map(Number),[a,r]=e.split("-").map(Number),u=new Date(n,o-1);return Math.round((new Date(a,r-1).getTime()-u.getTime())/2630016e3)}(a,s());e=u<=0?"up-to-date":"behind";let i=function(t){let[e,n]=t.split("-").map(Number),o=new Date(e,n-1);o.setMonth(o.getMonth()+1);let a=o.getFullYear(),r=(o.getMonth()+1).toString().padStart(2,"0");return"".concat(a,"-").concat(r)}(a);return{lastPaidMonth:a,lastPaidMonthText:r(a),currentStatus:e,monthsBehind:Math.max(0,u),suggestedPaymentMonth:r(i),suggestedPaymentMonthCode:i}}function s(){let t=(0,o.tF)(),e=t.getUTCFullYear(),n=(t.getUTCMonth()+1).toString().padStart(2,"0");return"".concat(e,"-").concat(n)}function l(t,e){let n=i(e);return"Pago de cuota social mes de ".concat(n.suggestedPaymentMonth)}}}]);