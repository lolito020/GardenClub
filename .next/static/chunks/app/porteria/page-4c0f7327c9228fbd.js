(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4140],{8781:function(e,s,a){Promise.resolve().then(a.bind(a,44449))},44449:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return C}});var t=a(57437),r=a(2265),l=a(39763);let i=(0,l.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),o=(0,l.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var n=a(73247),c=a(31047);let d=(0,l.Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var x=a(13041),m=a(89345);let h=(0,l.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),u={servicios:[],espacios:[],fechaInicio:"",fechaFin:"",busqueda:"",tipoBusqueda:"todos",estados:["ACTIVO"],ordenarPor:"fecha",orden:"desc",pagina:1,porPagina:20},p={mostrarColumnas:{fecha:!0,servicio:!0,evento:!0,contacto:!0,acciones:!0},compacta:!1,exportable:!1,seleccionMultiple:!1},g={ACTIVO:{label:"Activo",className:"bg-green-100 text-green-800 border-green-300",color:"#065f46",bgColor:"#d1fae5"},CONFIRMED:{label:"Confirmado",className:"bg-blue-100 text-blue-800 border-blue-300",color:"#1e40af",bgColor:"#dbeafe"},CONFIRMADO:{label:"Confirmado",className:"bg-blue-100 text-blue-800 border-blue-300",color:"#1e40af",bgColor:"#dbeafe"},PENDING:{label:"Pendiente",className:"bg-yellow-100 text-yellow-800 border-yellow-300",color:"#92400e",bgColor:"#fef3c7"},PENDIENTE:{label:"Pendiente",className:"bg-yellow-100 text-yellow-800 border-yellow-300",color:"#92400e",bgColor:"#fef3c7"},CULMINADO:{label:"Culminado",className:"bg-gray-100 text-gray-800 border-gray-300",color:"#374151",bgColor:"#f3f4f6"},CANCELADO:{label:"Cancelado",className:"bg-red-100 text-red-800 border-red-300",color:"#dc2626",bgColor:"#fee2e2"},RESERVADO:{label:"Reservado",className:"bg-purple-100 text-purple-800 border-purple-300",color:"#7c3aed",bgColor:"#e9d5ff"},FINALIZADO:{label:"Finalizado",className:"bg-gray-100 text-gray-800 border-gray-300",color:"#374151",bgColor:"#f3f4f6"},HOLD:{label:"En Espera",className:"bg-orange-100 text-orange-800 border-orange-300",color:"#ea580c",bgColor:"#fed7aa"}},b={"15_anos":{display:"Quincea\xf1era",icono:"\uD83C\uDF89",color:"text-pink-600"},boda:{display:"Boda",icono:"\uD83D\uDC92",color:"text-rose-600"},cumpleanos:{display:"Cumplea\xf1os",icono:"\uD83C\uDF82",color:"text-blue-600"},otros:{display:"Otro Evento",icono:"\uD83C\uDFAA",color:"text-purple-600"}},y={telefono:{display:"Tel\xe9fono",icono:"\uD83D\uDCDE",color:"text-blue-600"},whatsapp:{display:"WhatsApp",icono:"\uD83D\uDCF1",color:"text-green-600"},email:{display:"Email",icono:"\uD83D\uDCE7",color:"text-gray-600"},presencial:{display:"Presencial",icono:"\uD83C\uDFE2",color:"text-indigo-600"},otro:{display:"Otro",icono:"\uD83D\uDCCB",color:"text-gray-500"}},f=e=>new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}),v=e=>{if(!e.acontecimiento)return{tipo:null,tipoDisplay:"",persona:"",descripcion:"",icono:""};let s=b[e.acontecimiento],a="",t=e.otrosDescripcion;switch(e.acontecimiento){case"15_anos":a=e.quinceaneraFocusNombre||"";break;case"boda":a=e.noviosNombres||"";break;case"cumpleanos":a=e.cumpleaneroNombre||"";break;case"otros":a=e.otrosNombrePersona||""}return{tipo:e.acontecimiento,tipoDisplay:s.display,persona:a,descripcion:t,icono:s.icono}},j=e=>{let s=y[e.medioContacto];return{nombre:e.nombreContacto||"",telefono:"telefono"===e.medioContacto||"whatsapp"===e.medioContacto?e.contacto:void 0,email:"email"===e.medioContacto?e.contacto:void 0,medio:e.medioContacto,medioDisplay:s.display,contactoCompleto:e.contacto?"".concat(s.display,": ").concat(e.contacto):""}},N=e=>g[e]||{label:e,className:"bg-gray-100 text-gray-800 border-gray-300",color:"#374151",bgColor:"#f3f4f6"},w=(e,s,a)=>{let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(e){case"hoy":return{fechaInicio:r.toISOString().split("T")[0],fechaFin:r.toISOString().split("T")[0]};case"semana":let l=new Date(r);l.setDate(r.getDate()-r.getDay());let i=new Date(l);return i.setDate(l.getDate()+6),{fechaInicio:l.toISOString().split("T")[0],fechaFin:i.toISOString().split("T")[0]};case"mes":let o=new Date(r.getFullYear(),r.getMonth(),1),n=new Date(r.getFullYear(),r.getMonth()+1,0);return{fechaInicio:o.toISOString().split("T")[0],fechaFin:n.toISOString().split("T")[0]};case"personalizado":return{fechaInicio:s||"",fechaFin:a||""};default:return{}}};function k(e){var s,a;let{filtros:l,onFiltrosChange:i,servicios:o=[],espacios:n=[],loading:c=!1,onReset:d}=e,[x,m]=(0,r.useState)("personalizado"),h=(e,s)=>{i({...l,[e]:s})},p=e=>{if(m(e),"personalizado"!==e){let s=w(e);h("fechaInicio",s.fechaInicio||""),h("fechaFin",s.fechaFin||"")}},g=[{value:"ACTIVO",label:"Activo"},{value:"CULMINADO",label:"Culminado"},{value:"CANCELADO",label:"Cancelado"}];return(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-end",children:[(0,t.jsxs)("div",{className:"lg:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servicios"}),(0,t.jsxs)("select",{value:l.servicios.length>0?l.servicios[0]:"",onChange:e=>{let s=e.target.value;h("servicios",s?[s]:[])},disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50",children:[(0,t.jsx)("option",{value:"",children:"Todos los servicios"}),o.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]}),(0,t.jsxs)("div",{className:"lg:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha espec\xedfica"}),(0,t.jsx)("input",{type:"date",value:l.fechaInicio,onChange:e=>{let s=e.target.value;h("fechaInicio",s),h("fechaFin",s),m("personalizado")},disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50"})]}),(0,t.jsxs)("div",{className:"lg:col-span-5 grid grid-cols-5 gap-2",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),(0,t.jsx)("select",{value:l.tipoBusqueda,onChange:e=>h("tipoBusqueda",e.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50",children:[{value:"contacto",label:"Contacto"},{value:"evento",label:"Evento"},{value:"todos",label:"Ambos"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xa0"}),(0,t.jsx)("input",{type:"text",value:l.busqueda,onChange:e=>h("busqueda",e.target.value),placeholder:"Buscar ".concat("contacto"===l.tipoBusqueda?"contacto":"evento"===l.tipoBusqueda?"evento":"contacto/evento","..."),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50"})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)("button",{onClick:()=>{d?d():i(u),m("personalizado")},disabled:c,className:"w-full px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 border border-gray-300 rounded-lg transition-colors duration-200 disabled:opacity-50",title:"Limpiar filtros",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-end pt-2 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"lg:col-span-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rango de fecha"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[[{key:"hoy",label:"Hoy"},{key:"semana",label:"Semana"},{key:"mes",label:"Mes"}].map(e=>{let{key:s,label:a}=e;return(0,t.jsx)("button",{onClick:()=>p(s),className:"flex-1 px-2 py-1.5 text-xs font-medium rounded transition-colors duration-200 ".concat(x===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:a},s)}),(0,t.jsx)("button",{onClick:()=>{m("personalizado"),h("fechaInicio",""),h("fechaFin","")},className:"flex-1 px-2 py-1.5 text-xs font-medium rounded transition-colors duration-200 ".concat("personalizado"===x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Todas"})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,t.jsxs)("select",{value:l.estados.length>0?l.estados[0]:"",onChange:e=>{let s=e.target.value;h("estados",s?[s]:[])},disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50",children:[(0,t.jsx)("option",{value:"",children:"Todos los estados"}),g.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),(0,t.jsxs)("select",{value:l.ordenarPor,onChange:e=>h("ordenarPor",e.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50",children:[(0,t.jsx)("option",{value:"fecha",children:"Fecha"}),(0,t.jsx)("option",{value:"servicio",children:"Servicio"}),(0,t.jsx)("option",{value:"contacto",children:"Contacto"}),(0,t.jsx)("option",{value:"evento",children:"Evento"})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direcci\xf3n"}),(0,t.jsxs)("select",{value:l.orden,onChange:e=>h("orden",e.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50",children:[(0,t.jsx)("option",{value:"asc",children:"Ascendente"}),(0,t.jsx)("option",{value:"desc",children:"Descendente"})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)("div",{className:"text-center",children:c?(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-8 h-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})}):(0,t.jsx)("div",{className:"text-xs text-gray-500 font-medium"})})})]}),(l.busqueda||l.servicios.length>0||l.fechaInicio||l.estados.length>0)&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-100",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"Filtros activos:"}),l.fechaInicio&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:["\uD83D\uDCC5 ",l.fechaInicio,l.fechaFin&&l.fechaFin!==l.fechaInicio&&" - ".concat(l.fechaFin)]}),l.busqueda&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:['\uD83D\uDD0D "',l.busqueda,'"']}),l.servicios.length>0&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:["\uD83C\uDFE2 ",(null===(s=o.find(e=>e.id===l.servicios[0]))||void 0===s?void 0:s.nombre)||"Servicio"]}),l.estados.length>0&&(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:["\uD83D\uDCCB ",(null===(a=g.find(e=>e.value===l.estados[0]))||void 0===a?void 0:a.label)||"Estado"]})]})]})}function D(e){let{reservas:s,loading:a=!1,config:l,responsive:i,onReservaClick:o,onDetallesClick:n}=e,[c,d]=(0,r.useState)(null),[x,m]=(0,r.useState)(!1),h=(0,r.useMemo)(()=>i.isMobile?["fecha","contacto"]:i.isTablet?["fecha","servicio","contacto"]:["fecha","servicio","evento","contacto"],[i]),u=e=>{let{status:s}=e,a=N(s);return(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ".concat(a.className),children:a.label})},p=e=>{let{reservation:s}=e;if(!s.acontecimiento)return(0,t.jsx)("span",{className:"text-xs italic text-slate-400",children:"Sin especificar"});let a=v(s);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-slate-900",children:[a.icono," ",a.tipoDisplay]}),a.persona&&(0,t.jsx)("div",{className:"text-xs text-slate-500 truncate max-w-[120px]",children:a.persona})]})},g=e=>{let{reservation:s}=e,a=j(s);return(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-slate-900 truncate",children:a.nombre||"—"}),i.isMobile&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:s.serviceName}),s.acontecimiento&&(0,t.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:[v(s).icono," ",v(s).tipoDisplay]})]}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:a.contactoCompleto||"—"})]})},b=e=>{d(e),m(!0),n&&n(e)},y=()=>{m(!1),d(null)};return(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 border-b border-slate-200 bg-slate-50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Todas las Reservas"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,t.jsxs)("span",{children:[s.length," reservas"]}),a&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Cargando..."})]})]})]})}),a?(0,t.jsx)("div",{className:"p-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-lg font-medium text-slate-600",children:"Cargando reservas..."})]})}):0===s.length?(0,t.jsx)("div",{className:"p-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-6",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-700",children:"Sin reservas para mostrar"}),(0,t.jsx)("p",{className:"text-slate-500 max-w-md mx-auto",children:"No se encontraron reservas con los filtros actuales. Intenta ajustar los criterios de b\xfasqueda."})]})]})}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-b border-slate-200",children:(0,t.jsxs)("tr",{className:"text-xs uppercase tracking-wide text-slate-700",children:[h.includes("fecha")&&(0,t.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left font-bold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fecha & Horario"]})}),h.includes("servicio")&&(0,t.jsx)("th",{className:"hidden lg:table-cell px-6 py-4 text-left font-bold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Servicio/Espacio"]})}),h.includes("evento")&&(0,t.jsx)("th",{className:"hidden lg:table-cell px-6 py-4 text-left font-bold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})}),"Evento"]})}),h.includes("contacto")&&(0,t.jsx)("th",{className:"px-3 sm:px-6 py-4 text-left font-bold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Contacto"]})}),(0,t.jsx)("th",{className:"px-3 sm:px-6 py-4 text-right font-bold",children:"Acciones"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-200",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50 transition-all duration-200 hover:shadow-sm border-b border-slate-100 ".concat(o?"cursor-pointer":""),onClick:()=>o&&o(e),children:[h.includes("fecha")&&(0,t.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"text-xs sm:text-sm font-bold text-slate-900",children:e.fechaDisplay}),(0,t.jsx)("div",{className:"text-xs text-slate-600",children:e.horarioDisplay}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:e.duracionDisplay})]}),(0,t.jsx)(u,{status:e.status})]})}),h.includes("servicio")&&(0,t.jsx)("td",{className:"hidden lg:table-cell px-6 py-4",children:(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-slate-900 truncate",children:e.serviceName}),e.hasSpace&&e.spaceName!==e.serviceName&&(0,t.jsx)("div",{className:"text-xs text-slate-500",children:e.spaceName})]})}),h.includes("evento")&&(0,t.jsx)("td",{className:"hidden lg:table-cell px-6 py-4",children:(0,t.jsx)(p,{reservation:e})}),h.includes("contacto")&&(0,t.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:(0,t.jsx)(g,{reservation:e})}),(0,t.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right",children:(0,t.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,t.jsx)("button",{onClick:s=>{s.stopPropagation(),b(e)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-sm",title:"Ver detalles completos",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})})]},e.id))})]})}),x&&c&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:y,children:(0,t.jsxs)("div",{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto bg-white rounded-lg shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-slate-50",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"\uD83D\uDCCB Detalles de Reserva"}),(0,t.jsx)("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-200 transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Servicio/Espacio"}),(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[c.serviceName,c.hasSpace&&c.spaceName!==c.serviceName&&(0,t.jsxs)("span",{className:"text-gray-500",children:[" - ",c.spaceName]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Estado"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(u,{status:c.status})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Fecha"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:f(c.start)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Horario"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.horarioDisplay})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Contacto"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.nombreContacto||"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Tel\xe9fono"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:c.contacto||"—"})]})]}),c.acontecimiento&&(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-2",children:"\uD83C\uDF89 Evento Especial"}),(0,t.jsx)(p,{reservation:c})]}),(c.cantidadPersonas||c.notas)&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:"\uD83D\uDCDD Informaci\xf3n Adicional"}),c.cantidadPersonas&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Cantidad de personas: "}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:c.cantidadPersonas})]}),c.notas&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Notas: "}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:c.notas})]})]})]}),(0,t.jsx)("div",{className:"p-4 border-t bg-slate-50 flex justify-end",children:(0,t.jsx)("button",{onClick:y,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:"Cerrar"})})]})})]})}function C(){let[e,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1),[y,f]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!0),[C,E]=(0,r.useState)(""),[S,M]=(0,r.useState)(null),[I,F]=(0,r.useState)(!1),[L,A]=(0,r.useState)(!1),[P,T]=(0,r.useState)(!1),[B,O]=(0,r.useState)(u),[R,q]=(0,r.useState)(null),[V,z]=(0,r.useState)(!1),[Z,H]=(0,r.useState)([]),[W,_]=(0,r.useState)([]),[U,Y]=(0,r.useState)(!1),G=async()=>{Y(!0);try{let e=await fetch("/api/porteria/all-reservations?metadata=true",{method:"OPTIONS",credentials:"include"});if(e.ok){let s=await e.json();H(s.servicios||[]),_(s.espacios||[])}else console.error("Error al cargar metadatos")}catch(e){console.error("Error de conexi\xf3n al cargar metadatos:",e)}finally{Y(!1)}},K=async e=>{z(!0),f("");let s=e||B;try{let e=new URLSearchParams;s.servicios.length>0&&e.append("servicios",s.servicios.join(",")),s.espacios.length>0&&e.append("espacios",s.espacios.join(",")),s.fechaInicio&&e.append("fechaInicio",s.fechaInicio),s.fechaFin&&e.append("fechaFin",s.fechaFin),s.busqueda&&e.append("busqueda",s.busqueda),e.append("tipoBusqueda",s.tipoBusqueda),s.estados.length>0&&e.append("estados",s.estados.join(",")),e.append("ordenarPor",s.ordenarPor),e.append("orden",s.orden),e.append("pagina",s.pagina.toString()),e.append("porPagina",s.porPagina.toString());let a=await fetch("/api/porteria/all-reservations?".concat(e.toString()),{credentials:"include"});if(a.ok){let e=await a.json();q(e)}else{let e=await a.json();f(e.error||"Error al cargar las reservas")}}catch(e){console.error("Error al cargar reservas:",e),f("Error de conexi\xf3n al cargar las reservas")}finally{z(!1)}};async function $(e){L&&A(!1),b(!0),f(""),l(null);try{let s=await fetch("/api/porteria/member-lookup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),a=await s.json();a.ok?l(a):f(a.msg||"Error al buscar socio")}catch(e){console.error("Error searching member:",e),f("Error de conexi\xf3n")}finally{b(!1)}}async function J(){F(!0);try{let e=await fetch("/api/porteria/daily-reservations",{credentials:"include"}),s=await e.json();s.ok&&M(s)}catch(e){console.error("Error loading daily reservations:",e)}finally{F(!1)}}(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{console.log("\uD83D\uDD0D Verificando autenticaci\xf3n..."),console.log("\uD83D\uDCE1 Consultando perfil al servidor...");let s=await fetch("/api/auth/profile",{credentials:"include"});if(console.log("\uD83D\uDCE1 Respuesta del perfil:",s.status),!e)return;if(s.ok){let a=await s.json();if(console.log("\uD83D\uDC64 Respuesta completa del perfil:",a),!e)return;if(a.ok&&a.user){let e=a.user;console.log("\uD83C\uDF89 Usuario autenticado:",e.nombre,"con rol:",e.rol),console.log("\uD83D\uDD0D Verificando permisos para rol:",e.rol),"admin"===e.rol||"porteria"===e.rol?(console.log("✅ Acceso permitido a porter\xeda para rol:",e.rol),j(!0)):(console.log("\uD83D\uDEAB Acceso denegado para rol:",e.rol),alert('Su rol "'.concat(e.rol,'" no tiene permisos para acceder a la porter\xeda.\nContacte al administrador.')),window.location.href="/admin/dashboard")}else console.log("❌ No se pudo obtener informaci\xf3n del usuario v\xe1lida"),e&&(E("No se pudo verificar su sesi\xf3n. Por favor, inicie sesi\xf3n nuevamente."),w(!1))}else if(console.log("❌ Error al obtener perfil:",s.status,s.statusText),401===s.status)console.log("\uD83D\uDD10 No hay sesi\xf3n activa"),e&&(E("No hay sesi\xf3n activa. Por favor, inicie sesi\xf3n."),w(!1));else{try{let e=await s.text();console.log("\uD83D\uDCC4 Contenido de error:",e)}catch(e){console.log("No se pudo leer el error")}e&&(E("Error al verificar permisos. Por favor, inicie sesi\xf3n nuevamente."),w(!1))}}catch(s){console.log("\uD83D\uDCA5 Error en verificaci\xf3n:",s),e&&(E("Error de conexi\xf3n. Por favor, recargue la p\xe1gina."),w(!1))}finally{e&&w(!1)}})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{L&&!S&&J()},[L]),(0,r.useEffect)(()=>{P&&0===Z.length&&!U&&G()},[P]),(0,r.useEffect)(()=>{if(!P)return;let e=setTimeout(()=>{K(B)},500);return()=>clearTimeout(e)},[B,P]),(0,r.useEffect)(()=>{let e=e=>{if(e.ctrlKey&&"f"===e.key){var s;e.preventDefault(),A(!1),null===(s=document.getElementById("search-input"))||void 0===s||s.focus()}else e.ctrlKey&&"d"===e.key&&(e.preventDefault(),A(!0),S||J())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[S]),(0,r.useEffect)(()=>{a&&console.log("\uD83D\uDD0E memberData:",a)},[a]);let Q=e=>{O(e)},[X,ee]=(0,r.useState)({isMobile:!1,isTablet:!1,isDesktop:!0,columnasVisibles:["fecha","servicio","evento","contacto"]});return((0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth;ee({isMobile:e<768,isTablet:e>=768&&e<1024,isDesktop:e>=1024,columnasVisibles:e<768?["fecha","contacto"]:e<1024?["fecha","servicio","contacto"]:["fecha","servicio","evento","contacto"]})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),C)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,t.jsx)(i,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acceso Denegado"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:C}),(0,t.jsx)("a",{href:"/login",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir al Login"})]})}):N?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("div",{className:"text-lg text-gray-600",children:"Verificando acceso..."}),(0,t.jsx)("div",{className:"text-sm text-gray-400 mt-2",children:"Comprobando permisos de usuario"})]})}):v?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Porter\xeda"})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>{A(!1),T(!1)},className:"px-4 py-2 rounded-lg font-medium ".concat(L||P?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"),children:[(0,t.jsx)(n.Z,{className:"w-4 h-4 inline mr-2"}),"Buscar Socio"]}),(0,t.jsxs)("button",{onClick:()=>{A(!0),T(!1),S||J()},className:"px-4 py-2 rounded-lg font-medium ".concat(L?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 inline mr-2"}),"Reservas del D\xeda"]}),(0,t.jsxs)("button",{onClick:()=>{A(!1),T(!0),R||V||(G(),K())},className:"px-4 py-2 rounded-lg font-medium ".concat(P?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(d,{className:"w-4 h-4 inline mr-2"}),"Todas las Reservas"]})]})]}),(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:"Ctrl+F"})," B\xfasqueda |",(0,t.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded ml-2",children:"Ctrl+D"})," Vista Diaria"]})})]})}),(0,t.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6",children:P?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,t.jsx)(d,{className:"w-6 h-6 text-blue-600"}),"Todas las Reservas"]}),(0,t.jsx)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:R&&(0,t.jsxs)("span",{children:[R.total," reserva",1!==R.total?"s":""," encontrada",1!==R.total?"s":""]})})]}),(0,t.jsx)(k,{filtros:B,onFiltrosChange:Q,servicios:Z,espacios:W,loading:V||U,onReset:()=>{O(u)}})]}),(0,t.jsx)(D,{reservas:(null==R?void 0:R.reservas)||[],loading:V,config:p,responsive:X,onReservaClick:e=>{console.log("\uD83D\uDD0D Reserva seleccionada:",e)},onDetallesClick:e=>{console.log("\uD83D\uDCCB Ver detalles de reserva:",e)}}),R&&R.totalPaginas>1&&(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["P\xe1gina ",R.pagina," de ",R.totalPaginas," ","(",R.total," total)"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{B.pagina>1&&Q({...B,pagina:B.pagina-1})},disabled:B.pagina<=1,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),(0,t.jsx)("button",{onClick:()=>{B.pagina<((null==R?void 0:R.totalPaginas)||1)&&Q({...B,pagina:B.pagina+1})},disabled:B.pagina>=((null==R?void 0:R.totalPaginas)||1),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})}),y&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(i,{className:"w-5 h-5 text-red-400 mr-2"}),(0,t.jsx)("p",{className:"text-red-700",children:y})]})})]}):L?(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Reservas del D\xeda"}),I?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("div",{className:"text-gray-500",children:"Cargando reservas..."})}):S?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reservas de Hoy"}),S.today&&S.today.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Espacio"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tel\xe9fono"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:S.today.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.horaInicio," - ",e.horaFin]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.espacio}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.nombreContacto}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.contacto}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("ACTIVO"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})})]},e.id))})]})}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No hay reservas para hoy"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reservas de Ma\xf1ana"}),S.tomorrow&&S.tomorrow.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Espacio"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tel\xe9fono"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:S.tomorrow.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.horaInicio," - ",e.horaFin]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.espacio}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.nombreContacto}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.contacto}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("ACTIVO"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})})]},e.id))})]})}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No hay reservas para ma\xf1ana"})]})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("div",{className:"text-gray-500",children:"No se pudieron cargar las reservas"})})]})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:(0,t.jsx)("form",{onSubmit:s=>{s.preventDefault(),e.trim()&&$(e.includes("@")?{email:e}:isNaN(Number(e))?{codigo:e}:{ci:e})},children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{id:"search-input",type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Buscar por CI, c\xf3digo de socio, o email...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,t.jsx)("button",{type:"submit",disabled:g||!e.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Buscando...":"Buscar"})]})})}),y&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(i,{className:"w-5 h-5 text-red-400 mr-2"}),(0,t.jsx)("span",{className:"text-red-800",children:y})]})}),a&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[a.member.nombres," ",a.member.apellidos]}),(0,t.jsxs)("div",{className:"flex items-center mt-2 space-x-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["CI: ",a.member.ci]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["C\xf3digo: ",a.member.codigo]}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("ACTIVO"===a.member.estado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.member.estado})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:a.member.categoria}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:a.member.subcategoria})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaci\xf3n de Contacto"}),(0,t.jsxs)("div",{className:"space-y-3",children:[a.member.telefono&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:a.member.telefono})]}),a.member.celular&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-gray-400 mr-3"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[a.member.celular," (Celular)"]})]}),a.member.email&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:a.member.email})]}),a.member.direccion&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h,{className:"w-4 h-4 text-gray-400 mr-3"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:a.member.direccion})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estad\xedsticas"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.stats.activeServices}),(0,t.jsx)("div",{className:"text-sm text-blue-600",children:"Servicios Activos"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.stats.totalReservations}),(0,t.jsx)("div",{className:"text-sm text-green-600",children:"Reservas Totales"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:a.stats.familyMembers}),(0,t.jsx)("div",{className:"text-sm text-purple-600",children:"Familiares"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:a.stats.ownReservations}),(0,t.jsx)("div",{className:"text-sm text-yellow-600",children:"Reservas Propias"})]})]})]})]}),a.activeServices&&a.activeServices.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Servicios Activos"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Servicio"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inicio"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pr\xf3ximo Cobro"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.activeServices.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.nombre}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.tipo}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.fechaInicio}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.proximoCobro})]},e.id))})]})})]}),a.familyMembers&&a.familyMembers.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Grupo Familiar"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.familyMembers.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900",children:[e.nombres," ",e.apellidos]}),(0,t.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e.parentesco})]}),e.ci&&(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["CI: ",e.ci]}),e.telefono&&(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Tel: ",e.telefono]})]},e.id))})]})]})]})})]}):null}},39763:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});var t=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,s)=>{let a=(0,t.forwardRef)((a,i)=>{let{color:o="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:x,...m}=a;return(0,t.createElement)("svg",{ref:i,...r,width:n,height:n,stroke:o,strokeWidth:d?24*Number(c)/Number(n):c,className:"lucide lucide-".concat(l(e)),...m},[...s.map(e=>{let[s,a]=e;return(0,t.createElement)(s,a)}),...(Array.isArray(x)?x:[x])||[]])});return a.displayName="".concat(e),a}},31047:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(39763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},89345:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},13041:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(39763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},73247:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(39763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=8781)}),_N_E=e.O()}]);