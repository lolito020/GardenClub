(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9685],{48423:function(e,t,s){Promise.resolve().then(s.bind(s,8940))},8940:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(57437),i=s(69690),n=s(17985),r=s(2265),c=s(99376),l=s(94508),d=s(32660),o=s(43745),m=s(95805),x=s(94630),u=s(31047),h=s(92369),f=s(13041),g=s(89345),j=s(27648);function y(){let e=(0,c.useParams)(),[t,s]=(0,r.useState)(null),[y,v]=(0,r.useState)(!0);async function N(){try{let t=await n.L.authenticatedFetch("/api/families/".concat(e.id)),a=await t.json();if(t.ok){let e=await n.L.authenticatedFetch("/api/members/".concat(a.socioTitularId));if(e.ok){let t=await e.json();a.socioTitularName="".concat(t.nombres," ").concat(t.apellidos),a.socioTitularCode=t.codigo}s(a)}}catch(e){console.error("Error loading family data:",e)}finally{v(!1)}}async function p(){if(t)try{(await n.L.authenticatedFetch("/api/families/".concat(t.id),{method:"PATCH",body:JSON.stringify({activo:!t.activo})})).ok&&s(e=>e?{...e,activo:!e.activo}:null)}catch(e){console.error("Error toggling family member:",e)}}if((0,r.useEffect)(()=>{e.id&&N()},[e.id]),y)return(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})});if(!t)return(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-500",children:"Familiar no encontrado"}),(0,a.jsx)(j.default,{href:"/admin/familiares",className:"text-primary-600 hover:text-primary-800 mt-4 inline-block",children:"← Volver a Familiares"})]})});let b=t.nacimiento?(0,l.Fw)(t.nacimiento):null;return(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(j.default,{href:"/admin/familiares",className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900",children:[t.nombres," ",t.apellidos]}),(0,a.jsx)("p",{className:"text-gray-600",children:t.parentesco})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:p,className:"px-4 py-2 rounded-lg flex items-center gap-2 ".concat(t.activo?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"),children:[t.activo?(0,a.jsx)(o.Z,{className:"w-4 h-4"}):(0,a.jsx)(m.Z,{className:"w-4 h-4"}),t.activo?"Desactivar":"Activar"]}),(0,a.jsxs)(j.default,{href:"/admin/familiares/".concat(t.id,"/editar"),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Editar"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat(t.activo?"bg-green-500":"bg-gray-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Estado"}),(0,a.jsx)("div",{className:"font-medium",children:t.activo?"Activo":"Inactivo"})]})]})}),(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 text-blue-600 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Parentesco"}),(0,a.jsx)("div",{className:"font-medium",children:t.parentesco})]})]})}),b&&(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 text-purple-600 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Edad"}),(0,a.jsxs)("div",{className:"font-medium",children:[b," a\xf1os"]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 mr-2"}),"Informaci\xf3n Personal"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Nombres"}),(0,a.jsx)("div",{className:"font-medium",children:t.nombres})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Apellidos"}),(0,a.jsx)("div",{className:"font-medium",children:t.apellidos})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"C\xe9dula"}),(0,a.jsx)("div",{className:"font-medium",children:t.ci||"No registrada"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Parentesco"}),(0,a.jsx)("div",{className:"font-medium",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.parentesco})})]}),t.nacimiento&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Fecha de Nacimiento"}),(0,a.jsx)("div",{className:"font-medium",children:(0,l.p6)(t.nacimiento)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Edad"}),(0,a.jsxs)("div",{className:"font-medium",children:[b," a\xf1os"]})]})]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 mr-2"}),"Informaci\xf3n de Contacto"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[t.telefono?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,a.jsx)("span",{children:t.telefono})]}):(0,a.jsx)("div",{className:"text-gray-500",children:"No hay tel\xe9fono registrado"}),t.email?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,a.jsx)("span",{children:t.email})]}):(0,a.jsx)("div",{className:"text-gray-500",children:"No hay email registrado"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 mr-2"}),"Socio Titular"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:t.socioTitularName||"Socio no encontrado"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:t.socioTitularCode||"N/A"})]}),t.socioTitularId&&(0,a.jsx)(j.default,{href:"/admin/socios/".concat(t.socioTitularId),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"Ver Socio →"})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.foto?(0,a.jsx)("img",{src:t.foto,alt:"".concat(t.nombres," ").concat(t.apellidos),className:"w-32 h-32 rounded-full mx-auto object-cover mb-4"}):(0,a.jsx)("div",{className:"w-32 h-32 rounded-full mx-auto bg-gray-300 flex items-center justify-center mb-4",children:(0,a.jsx)(h.Z,{className:"w-16 h-16 text-gray-500"})}),(0,a.jsxs)("h4",{className:"font-semibold",children:[t.nombres," ",t.apellidos]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.parentesco})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Informaci\xf3n Adicional"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Grupo Familiar"}),(0,a.jsx)("div",{className:"font-medium",children:t.grupoFamiliarId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Estado"}),(0,a.jsx)("div",{className:"font-medium",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat(t.activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.activo?"Activo":"Inactivo"})})]})]})]})})]})]})]})})}},45365:function(e,t,s){"use strict";s.d(t,{D2:function(){return a},LJ:function(){return n},_4:function(){return r},tF:function(){return i}});let a={name:"America/Asuncion",offsetHours:-3,description:"Paraguay (UTC-3)"};function i(){let e=new Date,t=Object.fromEntries(new Intl.DateTimeFormat("en-CA",{timeZone:a.name,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e).map(e=>[e.type,e.value]));return new Date(parseInt(t.year),parseInt(t.month)-1,parseInt(t.day),parseInt(t.hour),parseInt(t.minute),parseInt(t.second))}function n(e){if(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(a)}{let e=new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:a.name,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}}function r(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){let[s,a,i]=e.split("-").map(Number);t=new Date(s,a-1,i)}else t=new Date(e)}else t=e;if(s)return t.toLocaleString("es-PY",{timeZone:a.name,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});if(!("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)))return t.toLocaleDateString("es-PY",{timeZone:a.name,day:"2-digit",month:"2-digit",year:"numeric"});{let[t,s,a]=e.split("-");return"".concat(a.padStart(2,"0"),"/").concat(s.padStart(2,"0"),"/").concat(t)}}},94508:function(e,t,s){"use strict";s.d(t,{Fw:function(){return r},Ji:function(){return c},m9:function(){return l},p6:function(){return n},sQ:function(){return o},sU:function(){return d},xG:function(){return i}});var a=s(45365);function i(e){return new Intl.NumberFormat("es-PY",{style:"currency",currency:"PYG",minimumFractionDigits:0}).format(e)}function n(e){return(0,a._4)(e,!1)}function r(e){let t=(0,a.tF)(),s=new Date(new Date(e).getTime()+108e5),i=t.getUTCFullYear()-s.getUTCFullYear(),n=t.getUTCMonth()-s.getUTCMonth();return(n<0||0===n&&t.getUTCDate()<s.getUTCDate())&&i--,i}function c(){return(0,a.LJ)()}function l(e){let t=e.replace(/\D/g,"");return t?t.replace(/\B(?=(\d{3})+(?!\d))/g,"."):""}function d(e){return parseInt(e.replace(/\./g,""))||0}function o(e){return Math.round(e)}},32660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},31047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},89345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},94630:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},13041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},43745:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},92369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[3643,9690,2971,2117,1744],function(){return e(e.s=48423)}),_N_E=e.O()}]);