(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7061],{46596:function(e,t,a){Promise.resolve().then(a.bind(a,64963))},64963:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var n=a(57437),s=a(69690),r=a(2265),i=a(91723),o=a(39763);let l=(0,o.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var c=a(33245);let d=(0,o.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var m=a(45365);let u=[{name:"America/Asuncion",offset:-3,description:"Paraguay (UTC-3)"},{name:"America/Asuncion",offset:-4,description:"Paraguay - Invierno (UTC-4)"},{name:"America/Buenos_Aires",offset:-3,description:"Argentina (UTC-3)"},{name:"America/Sao_Paulo",offset:-3,description:"Brasil (UTC-3)"},{name:"America/Montevideo",offset:-3,description:"Uruguay (UTC-3)"},{name:"America/Santiago",offset:-3,description:"Chile - Verano (UTC-3)"},{name:"America/Santiago",offset:-4,description:"Chile - Invierno (UTC-4)"},{name:"UTC",offset:0,description:"UTC (UTC+0)"}];function f(){let[e,t]=(0,r.useState)(new Date),[a,o]=(0,r.useState)(u.find(e=>e.offset===m.D2.offsetHours)||u[0]),[f,h]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setInterval(()=>{t((0,m.tF)())},1e3);return()=>clearInterval(e)},[]);let p=async()=>{x(!0),h("");try{(await fetch("/api/config/timezone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,offset:a.offset,description:a.description}),credentials:"include"})).ok?h("✅ Configuraci\xf3n guardada correctamente. Se aplicar\xe1 en el pr\xf3ximo reinicio del servidor."):h("❌ Error al guardar la configuraci\xf3n")}catch(e){console.error("Error:",e),h("❌ Error de conexi\xf3n")}finally{x(!1)}};return(0,n.jsx)(s.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,n.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,n.jsx)(i.Z,{className:"w-6 h-6 text-blue-600"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraci\xf3n de Fecha y Hora del Sistema"})]}),(0,n.jsx)("p",{className:"text-gray-600 ml-12",children:"Configura la zona horaria que se aplicar\xe1 a todo el sistema"})]}),(0,n.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg shadow-sm border border-blue-200 p-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-sm mb-4",children:[(0,n.jsx)(l,{className:"w-5 h-5 text-blue-600"}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-600",children:m.D2.description})]}),(0,n.jsx)("div",{className:"text-6xl font-bold text-gray-900 mb-2 font-mono",children:e.toLocaleTimeString("es-PY",{timeZone:m.D2.name,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,n.jsx)("div",{className:"text-2xl text-gray-700",children:(0,m._4)(e,!1)})]})}),(0,n.jsx)("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(c.Z,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,n.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,n.jsx)("p",{className:"font-medium mb-1",children:"Configuraci\xf3n Actual:"}),(0,n.jsxs)("ul",{className:"space-y-1 ml-4",children:[(0,n.jsxs)("li",{children:["• Zona Horaria: ",(0,n.jsx)("span",{className:"font-mono",children:m.D2.name})]}),(0,n.jsxs)("li",{children:["• Offset: ",(0,n.jsxs)("span",{className:"font-mono",children:["UTC",m.D2.offsetHours>=0?"+":"",m.D2.offsetHours]})]}),(0,n.jsxs)("li",{children:["• Descripci\xf3n: ",m.D2.description]})]})]})]})}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cambiar Zona Horaria"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Zona Horaria"}),(0,n.jsx)("select",{value:"".concat(a.name,"|").concat(a.offset),onChange:e=>{let[t,a]=e.target.value.split("|"),n=u.find(e=>e.name===t&&e.offset===parseInt(a));n&&o(n)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u.map((e,t)=>(0,n.jsxs)("option",{value:"".concat(e.name,"|").concat(e.offset),children:[e.description," (UTC",e.offset>=0?"+":"",e.offset,")"]},t))})]}),(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vista Previa con nueva configuraci\xf3n:"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,n.jsxs)("p",{children:["• Zona Horaria: ",(0,n.jsx)("span",{className:"font-mono",children:a.name})]}),(0,n.jsxs)("p",{children:["• Offset: ",(0,n.jsxs)("span",{className:"font-mono",children:["UTC",a.offset>=0?"+":"",a.offset]})]}),(0,n.jsxs)("p",{children:["• Descripci\xf3n: ",a.description]}),(0,n.jsxs)("p",{children:["• Hora local actual: ",(0,n.jsx)("span",{className:"font-mono font-semibold",children:new Date().toLocaleTimeString("es-PY",{timeZone:a.name,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]}),f&&(0,n.jsx)("div",{className:"p-4 rounded-lg ".concat(f.includes("✅")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:f}),(0,n.jsxs)("button",{onClick:p,disabled:g||a.offset===m.D2.offsetHours,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:[(0,n.jsx)(d,{className:"w-5 h-5"}),g?"Guardando...":"Guardar Configuraci\xf3n"]}),(0,n.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(c.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,n.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,n.jsx)("p",{className:"font-medium mb-1",children:"⚠️ Importante:"}),(0,n.jsxs)("ul",{className:"space-y-1 ml-4",children:[(0,n.jsx)("li",{children:"• Los cambios se aplicar\xe1n despu\xe9s de reiniciar el servidor"}),(0,n.jsx)("li",{children:"• Todas las fechas y horas del sistema usar\xe1n la nueva zona horaria"}),(0,n.jsx)("li",{children:"• Los datos existentes no se modificar\xe1n, solo c\xf3mo se muestran"})]})]})]})})]})]})]})})}},45365:function(e,t,a){"use strict";a.d(t,{D2:function(){return n},LJ:function(){return r},_4:function(){return i},tF:function(){return s}});let n={name:"America/Asuncion",offsetHours:-3,description:"Paraguay (UTC-3)"};function s(){let e=new Date,t=Object.fromEntries(new Intl.DateTimeFormat("en-CA",{timeZone:n.name,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e).map(e=>[e.type,e.value]));return new Date(parseInt(t.year),parseInt(t.month)-1,parseInt(t.day),parseInt(t.hour),parseInt(t.minute),parseInt(t.second))}function r(e){if(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}{let e=new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:n.name,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}}function i(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){let[a,n,s]=e.split("-").map(Number);t=new Date(a,n-1,s)}else t=new Date(e)}else t=e;if(a)return t.toLocaleString("es-PY",{timeZone:n.name,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});if(!("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)))return t.toLocaleDateString("es-PY",{timeZone:n.name,day:"2-digit",month:"2-digit",year:"numeric"});{let[t,a,n]=e.split("-");return"".concat(n.padStart(2,"0"),"/").concat(a.padStart(2,"0"),"/").concat(t)}}},33245:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}},function(e){e.O(0,[3643,9690,2971,2117,1744],function(){return e(e.s=46596)}),_N_E=e.O()}]);