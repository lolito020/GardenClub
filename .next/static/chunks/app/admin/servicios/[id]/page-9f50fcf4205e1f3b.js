(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5730],{130:function(e,t,a){Promise.resolve().then(a.bind(a,62555))},62555:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(57437),i=a(69690),r=a(17985),n=a(2265),c=a(99376),l=a(94508),o=a(32660),d=a(38866),m=a(26034),x=a(94630),u=a(33245);let g=(0,a(39763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var h=a(27648);function p(){let e;let t=(0,c.useParams)(),[a,p]=(0,n.useState)(null),[f,y]=(0,n.useState)(!0),[b,v]=(0,n.useState)({sociosUsando:0,ingresosMes:0,comisionesPagadas:0});async function N(){try{let e=await r.L.authenticatedFetch("/api/services/".concat(t.id)),a=await e.json();e.ok&&(p(a),v({sociosUsando:0,ingresosMes:0,comisionesPagadas:0}))}catch(e){console.error("Error loading service:",e)}finally{y(!1)}}async function j(){if(a)try{(await r.L.authenticatedFetch("/api/services/".concat(a.id),{method:"PATCH",body:JSON.stringify({activo:!a.activo})})).ok&&p(e=>e?{...e,activo:!e.activo}:null)}catch(e){console.error("Error toggling service:",e)}}return((0,n.useEffect)(()=>{t.id&&N()},[t.id]),f)?(0,s.jsx)(i.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})}):a?(0,s.jsx)(i.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(h.default,{href:"/admin/servicios",className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:a.nombre}),(0,s.jsx)("p",{className:"text-gray-600",children:"Detalles del servicio"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:j,className:"px-4 py-2 rounded-lg flex items-center gap-2 ".concat(a.activo?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"),children:[a.activo?(0,s.jsx)(d.Z,{className:"w-4 h-4"}):(0,s.jsx)(m.Z,{className:"w-4 h-4"}),a.activo?"Desactivar":"Activar"]}),(0,s.jsxs)(h.default,{href:"/admin/servicios/".concat(a.id,"/editar"),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Editar"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-gray-900 border-b border-gray-200 pb-4",children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 mr-3 text-primary-600"}),"Informaci\xf3n del Servicio"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Nombre"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.nombre})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Precio"}),(0,s.jsx)("div",{className:"text-lg font-bold text-black",children:(0,l.xG)(a.precio)})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,s.jsx)("div",{className:"mt-2",children:(e=a.tipo,(0,s.jsx)("span",{className:"text-black font-medium text-sm",children:e}))})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Comisi\xf3n Cobrador"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.comisionCobrador?"".concat(a.comisionCobrador,"%"):"Sin comisi\xf3n"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Para Socios"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.socios?"S\xcd":"NO"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Para No Socios"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.noSocios?"S\xcd":"NO"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Servicio Obligatorio"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.obligatorio?"S\xed":"No"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("span",{className:"inline-flex px-3 py-1.5 rounded-lg text-sm font-semibold ".concat(a.activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:a.activo?"Activo":"Inactivo"})})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-1",children:[(0,s.jsxs)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-1",children:[(0,s.jsx)(g,{className:"w-4 h-4"})," Categor\xeda"]}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.categoria?a.categoria:"—"})]}),a.aplicaA&&a.aplicaA.length>0&&(0,s.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Aplica a"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-black",children:a.aplicaA.join(", ")})]})]}),a.descripcion&&(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Descripci\xf3n"}),(0,s.jsx)("div",{className:"text-base leading-relaxed text-black",children:a.descripcion})]})]})})}),(0,s.jsx)("div",{className:"space-y-6"})]})]})}):(0,s.jsx)(i.Z,{children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-gray-500",children:"Servicio no encontrado"}),(0,s.jsx)(h.default,{href:"/admin/servicios",className:"text-primary-600 hover:text-primary-800 mt-4 inline-block",children:"← Volver a Servicios"})]})})}},45365:function(e,t,a){"use strict";a.d(t,{D2:function(){return s},LJ:function(){return r},_4:function(){return n},tF:function(){return i}});let s={name:"America/Asuncion",offsetHours:-3,description:"Paraguay (UTC-3)"};function i(){let e=new Date,t=Object.fromEntries(new Intl.DateTimeFormat("en-CA",{timeZone:s.name,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e).map(e=>[e.type,e.value]));return new Date(parseInt(t.year),parseInt(t.month)-1,parseInt(t.day),parseInt(t.hour),parseInt(t.minute),parseInt(t.second))}function r(e){if(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)}{let e=new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:s.name,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}}function n(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){let[a,s,i]=e.split("-").map(Number);t=new Date(a,s-1,i)}else t=new Date(e)}else t=e;if(a)return t.toLocaleString("es-PY",{timeZone:s.name,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});if(!("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)))return t.toLocaleDateString("es-PY",{timeZone:s.name,day:"2-digit",month:"2-digit",year:"numeric"});{let[t,a,s]=e.split("-");return"".concat(s.padStart(2,"0"),"/").concat(a.padStart(2,"0"),"/").concat(t)}}},94508:function(e,t,a){"use strict";a.d(t,{Fw:function(){return n},Ji:function(){return c},m9:function(){return l},p6:function(){return r},sQ:function(){return d},sU:function(){return o},xG:function(){return i}});var s=a(45365);function i(e){return new Intl.NumberFormat("es-PY",{style:"currency",currency:"PYG",minimumFractionDigits:0}).format(e)}function r(e){return(0,s._4)(e,!1)}function n(e){let t=(0,s.tF)(),a=new Date(new Date(e).getTime()+108e5),i=t.getUTCFullYear()-a.getUTCFullYear(),r=t.getUTCMonth()-a.getUTCMonth();return(r<0||0===r&&t.getUTCDate()<a.getUTCDate())&&i--,i}function c(){return(0,s.LJ)()}function l(e){let t=e.replace(/\D/g,"");return t?t.replace(/\B(?=(\d{3})+(?!\d))/g,"."):""}function o(e){return parseInt(e.replace(/\./g,""))||0}function d(e){return Math.round(e)}},32660:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},33245:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},94630:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},38866:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]])},26034:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]])}},function(e){e.O(0,[3643,9690,2971,2117,1744],function(){return e(e.s=130)}),_N_E=e.O()}]);