(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{63002:function(e,r,a){Promise.resolve().then(a.bind(a,82871))},82871:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return h}});var t=a(57437),i=a(94508),s=a(69690),o=a(17985),n=a(2265),l=a(99376),c=a(32660),d=a(99397),m=a(98728),u=a(45675),g=a(18930),x=a(32489),p=a(27648);function h(){let e=(0,l.useParams)(),r=(0,l.useRouter)(),[a,h]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!0),[f,v]=(0,n.useState)(""),[j,N]=(0,n.useState)(null),[k,w]=(0,n.useState)({nombre:"",descripcion:"",precio:"",tipo:"MENSUAL",obligatorio:!1,aplicaA:[],comisionCobrador:"",activo:!0,categoria:"",socios:!0,noSocios:!1,permiteAgendamiento:!1,permiteHorasExtras:!1,precioHoraExtra:""}),[C,S]=(0,n.useState)([]),[E,A]=(0,n.useState)(!1),[H,P]=(0,n.useState)(!1),[Z,D]=(0,n.useState)(""),[F,M]=(0,n.useState)(!1),[T,U]=(0,n.useState)(null),[L,I]=(0,n.useState)(""),[O,q]=(0,n.useState)([]),[_,G]=(0,n.useState)(""),[J,Y]=(0,n.useState)(null),[z,V]=(0,n.useState)("");async function B(){A(!0);try{let e=await o.L.authenticatedFetch("/api/categories"),r=await e.json();S(Array.isArray(r)?r:[])}catch(e){console.error("Error cargando categor\xedas:",e),S([])}finally{A(!1)}}async function K(){try{let d=await o.L.authenticatedFetch("/api/services/".concat(e.id)),m=await d.json();if(d.ok){var r,a,t,i,s,n,l,c;N(m),w({nombre:m.nombre,descripcion:m.descripcion||"",precio:(null===(a=m.precio)||void 0===a?void 0:null===(r=a.toString)||void 0===r?void 0:r.call(a))||"",tipo:m.tipo,obligatorio:!!m.obligatorio,aplicaA:m.aplicaA||[],comisionCobrador:(null===(t=m.comisionCobrador)||void 0===t?void 0:t.toString())||"",activo:!!m.activo,categoria:m.categoria||"",socios:null===(s=m.socios)||void 0===s||s,noSocios:null!==(n=m.noSocios)&&void 0!==n&&n,permiteAgendamiento:null!==(l=m.permiteAgendamiento)&&void 0!==l&&l,permiteHorasExtras:null!==(c=m.permiteHorasExtras)&&void 0!==c&&c,precioHoraExtra:(null===(i=m.precioHoraExtra)||void 0===i?void 0:i.toString())||""}),q(m.espacios||[])}else v((null==m?void 0:m.msg)||"Servicio no encontrado")}catch(e){console.error(e),v("Error al cargar servicio")}finally{b(!1)}}(0,n.useEffect)(()=>{B()},[]),(0,n.useEffect)(()=>{(null==e?void 0:e.id)&&K()},[null==e?void 0:e.id]);let $=async a=>{if(a.preventDefault(),v(""),h(!0),k.permiteHorasExtras&&!k.precioHoraExtra){v("Error: Debe especificar el precio por hora extra"),h(!1);return}try{let a={...k,precio:(0,i.sU)(k.precio),comisionCobrador:k.comisionCobrador?parseFloat(k.comisionCobrador):void 0,espacios:k.permiteAgendamiento?O:void 0,precioHoraExtra:k.permiteHorasExtras&&k.precioHoraExtra?(0,i.sU)(k.precioHoraExtra):void 0},t=await o.L.authenticatedFetch("/api/services/".concat(e.id),{method:"PATCH",body:JSON.stringify(a)}),s=await t.json();t.ok?r.push("/admin/servicios"):v(s.msg||"Error al actualizar servicio")}catch(e){console.error(e),v("Error de conexi\xf3n")}finally{h(!1)}},Q=(e,r)=>{r?w(r=>({...r,aplicaA:[...r.aplicaA,e]})):w(r=>({...r,aplicaA:r.aplicaA.filter(r=>r!==e)}))},R=async()=>{let e=prompt("Nombre de nueva categor\xeda:");if(e)try{let r=await o.L.authenticatedFetch("/api/categories",{method:"POST",body:JSON.stringify({nombre:e})}),a=await r.json();r.ok?(await B(),w(r=>{var t;return{...r,categoria:(null===(t=a.categoria)||void 0===t?void 0:t.nombre)||e}})):alert(a.msg||"No se pudo crear la categor\xeda")}catch(e){console.error(e),alert("Error al crear categor\xeda")}},X=()=>{_.trim()&&!O.includes(_.trim())&&(q(e=>[...e,_.trim()]),G(""))},W=e=>{q(r=>r.filter((r,a)=>a!==e))},ee=e=>{Y(e),V(O[e])},er=()=>{z.trim()&&null!==J&&(q(e=>e.map((e,r)=>r===J?z.trim():e)),Y(null),V(""))},ea=()=>{Y(null),V("")},et=async()=>{if(Z.trim()){M(!0);try{let e=await o.L.authenticatedFetch("/api/categories",{method:"POST",body:JSON.stringify({nombre:Z.trim()})}),r=await e.json();if(!e.ok)throw Error((null==r?void 0:r.msg)||"No se pudo crear la categor\xeda");D(""),await B()}catch(e){alert((null==e?void 0:e.message)||"Error al crear categor\xeda")}finally{M(!1)}}},ei=e=>{U(e.id),I(e.nombre)},es=()=>{U(null),I("")},eo=async()=>{if(T&&L.trim()){M(!0);try{var e,r;let a=await o.L.authenticatedFetch("/api/categories/".concat(T),{method:"PUT",body:JSON.stringify({nombre:L.trim()})}),t=await a.json();if(!a.ok)throw Error((null==t?void 0:t.msg)||"No se pudo editar la categor\xeda");await B();let i=null===(e=C.find(e=>e.id===T))||void 0===e?void 0:e.nombre;k.categoria&&(null===(r=t.categoria)||void 0===r?void 0:r.nombre)&&i===k.categoria&&w(e=>({...e,categoria:t.categoria.nombre})),es()}catch(e){alert((null==e?void 0:e.message)||"Error al editar categor\xeda")}finally{M(!1)}}},en=async e=>{if(confirm('\xbfEliminar la categor\xeda "'.concat(e.nombre,'"?'))){M(!0);try{let r=await o.L.authenticatedFetch("/api/categories/".concat(e.id),{method:"DELETE"}),a=await r.json();if(!r.ok)throw Error((null==a?void 0:a.msg)||"No se pudo eliminar la categor\xeda");await B(),k.categoria===e.nombre&&w(e=>({...e,categoria:""}))}catch(e){alert((null==e?void 0:e.message)||"Error al eliminar categor\xeda")}finally{M(!1)}}};return y?(0,t.jsx)(s.Z,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})}):j?(0,t.jsxs)(s.Z,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(p.default,{href:"/admin/servicios",className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(c.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Servicio"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Modifica la informaci\xf3n del servicio"})]})]}),f&&(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(f.includes("Error")?"bg-red-50 text-red-800 border border-red-200":"bg-green-50 text-green-800 border border-green-200"),children:f}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsxs)("form",{onSubmit:$,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Informaci\xf3n B\xe1sica"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Servicio *"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.nombre,onChange:e=>w(r=>({...r,nombre:e.target.value})),placeholder:"Ej: Cuota Social Mensual"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,t.jsx)("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.descripcion,onChange:e=>w(r=>({...r,descripcion:e.target.value})),placeholder:"Descripci\xf3n detallada del servicio"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio (Gs.) *"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",required:!0,min:"0",step:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:(0,i.m9)(k.precio||""),onChange:e=>{let r=e.target.value;w(e=>({...e,precio:(0,i.sU)(r).toString()}))},placeholder:"150.000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Servicio *"}),(0,t.jsxs)("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.tipo,onChange:e=>w(r=>({...r,tipo:e.target.value})),children:[(0,t.jsx)("option",{value:"MENSUAL",children:"Mensual"}),(0,t.jsx)("option",{value:"ANUAL",children:"Anual"}),(0,t.jsx)("option",{value:"UNICO",children:"\xdanico"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda del Servicio *"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.categoria,onChange:e=>w(r=>({...r,categoria:e.target.value})),children:[(0,t.jsx)("option",{value:"",children:"Seleccionar categor\xeda"}),C.map(e=>(0,t.jsx)("option",{value:e.nombre,children:e.nombre},e.id))]}),(0,t.jsx)("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm flex items-center gap-1",title:"Crear categor\xeda r\xe1pida",children:(0,t.jsx)(d.Z,{className:"w-4 h-4"})}),(0,t.jsxs)("button",{type:"button",onClick:()=>P(!0),className:"px-3 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm flex items-center gap-1",title:"Administrar categor\xedas",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Administrar"})]})]}),E&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cargando categor\xedas…"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Disponibilidad del Servicio *"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Para Socios"}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.socios?"true":"false",onChange:e=>w(r=>({...r,socios:"true"===e.target.value})),children:[(0,t.jsx)("option",{value:"true",children:"S\xcd"}),(0,t.jsx)("option",{value:"false",children:"NO"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Para No Socios"}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.noSocios?"true":"false",onChange:e=>w(r=>({...r,noSocios:"true"===e.target.value})),children:[(0,t.jsx)("option",{value:"true",children:"S\xcd"}),(0,t.jsx)("option",{value:"false",children:"NO"})]})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Indica si el servicio est\xe1 disponible para socios, no socios, o ambos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.permiteAgendamiento,onChange:e=>w(r=>({...r,permiteAgendamiento:e.target.checked,permiteHorasExtras:!!e.target.checked&&r.permiteHorasExtras,precioHoraExtra:e.target.checked?r.precioHoraExtra:""})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\uD83D\uDCC5 Permite Agendamiento"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Permite reservar fecha y horario espec\xedficos para este servicio (ej: alquiler de salones)"})]}),k.permiteAgendamiento&&(0,t.jsxs)("div",{className:"ml-6 space-y-3 p-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.permiteHorasExtras,onChange:e=>w(r=>({...r,permiteHorasExtras:e.target.checked,precioHoraExtra:e.target.checked?r.precioHoraExtra:""})),className:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"⏰ Permite Horas Extras"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Permite cobrar horas adicionales despu\xe9s del horario normal (ej: eventos que se extienden)"})]}),k.permiteHorasExtras&&(0,t.jsxs)("div",{className:"ml-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio por Hora Extra (Gs.) *"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",required:k.permiteHorasExtras,value:(0,i.m9)(k.precioHoraExtra),onChange:e=>{let r=e.target.value;w(e=>({...e,precioHoraExtra:(0,i.sU)(r).toString()}))},placeholder:"50.000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Precio que se cobrar\xe1 por cada hora adicional fuera del horario normal"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Configuraci\xf3n"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comisi\xf3n Cobrador (%)"}),(0,t.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:k.comisionCobrador,onChange:e=>w(r=>({...r,comisionCobrador:e.target.value})),placeholder:"12.5"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Porcentaje de comisi\xf3n para cobradores externos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Aplica a Subcategor\xedas"}),(0,t.jsx)("div",{className:"space-y-2",children:["Socio","Socio Patrimonial","Socio Vitalicio"].map(e=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:k.aplicaA.includes(e),onChange:r=>Q(e,r.target.checked)}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Si no seleccionas ninguna, aplicar\xe1 a todas"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:k.obligatorio,onChange:e=>w(r=>({...r,obligatorio:e.target.checked}))}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Servicio Obligatorio"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:k.activo,onChange:e=>w(r=>({...r,activo:e.target.checked}))}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Servicio Activo"})]})]}),k.permiteAgendamiento&&(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Espacios Disponibles"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)("input",{type:"text",value:_,onChange:e=>G(e.target.value),onKeyPress:e=>"Enter"===e.key&&X(),placeholder:"Ej: Tenis 1, Cancha Principal, etc.",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),(0,t.jsxs)("button",{type:"button",onClick:X,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4"}),"Agregar"]})]}),O.length>0?(0,t.jsx)("div",{className:"space-y-2",children:O.map((e,r)=>(0,t.jsx)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:J===r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:z,onChange:e=>V(e.target.value),onKeyPress:e=>"Enter"===e.key&&er(),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"}),(0,t.jsx)("button",{type:"button",onClick:er,className:"px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-sm",children:"✓"}),(0,t.jsx)("button",{type:"button",onClick:ea,className:"px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm",children:"✕"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"flex-1 text-sm font-medium text-gray-900",children:e}),(0,t.jsx)("button",{type:"button",onClick:()=>ee(r),className:"px-2 py-1 text-blue-600 hover:bg-blue-50 rounded text-sm",title:"Editar",children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})}),(0,t.jsx)("button",{type:"button",onClick:()=>W(r),className:"px-2 py-1 text-red-600 hover:bg-red-50 rounded text-sm",title:"Eliminar",children:(0,t.jsx)(g.Z,{className:"w-4 h-4"})})]})},r))}):(0,t.jsxs)("div",{className:"text-center py-6 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm",children:"No hay espacios configurados"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Agrega espacios como “Cancha 1”, “Sal\xf3n Principal”, etc."})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[(0,t.jsx)(p.default,{href:"/admin/servicios",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50",children:a?"Guardando...":"Guardar Cambios"})]})]})})]}),H&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 sm:p-6",onClick:()=>P(!1),role:"dialog","aria-modal":"true","aria-labelledby":"admin-cat-title",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-lg shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b",children:[(0,t.jsx)("h3",{id:"admin-cat-title",className:"text-lg font-semibold",children:"Administrar Categor\xedas"}),(0,t.jsx)("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Cerrar",children:(0,t.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 max-h-[75vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Nueva categor\xeda",value:Z,onChange:e=>D(e.target.value)}),(0,t.jsxs)("button",{onClick:et,disabled:F||!Z.trim(),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 inline mr-1"}),"Crear"]})]}),(0,t.jsx)("div",{className:"border rounded-lg divide-y",children:0===C.length?(0,t.jsx)("div",{className:"p-4 text-gray-500",children:"No hay categor\xedas."}):C.map(e=>(0,t.jsx)("div",{className:"p-3 flex items-center gap-3",children:T===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:L,onChange:e=>I(e.target.value)}),(0,t.jsx)("button",{onClick:eo,disabled:F||!L.trim(),className:"px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:"Guardar"}),(0,t.jsx)("button",{onClick:es,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.nombre}),(0,t.jsx)("button",{onClick:()=>{w(r=>({...r,categoria:e.nombre})),P(!1)},className:"text-sm text-primary-600 hover:text-primary-800",children:"Usar en el formulario"})]}),(0,t.jsx)("button",{onClick:()=>ei(e),className:"px-2 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Editar",children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>en(e),className:"px-2 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",title:"Eliminar",children:(0,t.jsx)(g.Z,{className:"w-4 h-4"})})]})},e.id))})]}),(0,t.jsx)("div",{className:"flex justify-end gap-2 p-4 sm:p-6 border-t",children:(0,t.jsx)("button",{onClick:()=>P(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cerrar"})})]})})]}):(0,t.jsx)(s.Z,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Servicio no encontrado"}),(0,t.jsx)(p.default,{href:"/admin/servicios",className:"text-primary-600 hover:text-primary-800 mt-4 inline-block",children:"← Volver a Servicios"})]})})}},45365:function(e,r,a){"use strict";a.d(r,{D2:function(){return t},LJ:function(){return s},_4:function(){return o},tF:function(){return i}});let t={name:"America/Asuncion",offsetHours:-3,description:"Paraguay (UTC-3)"};function i(){let e=new Date,r=Object.fromEntries(new Intl.DateTimeFormat("en-CA",{timeZone:t.name,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e).map(e=>[e.type,e.value]));return new Date(parseInt(r.year),parseInt(r.month)-1,parseInt(r.day),parseInt(r.hour),parseInt(r.minute),parseInt(r.second))}function s(e){if(e){let r=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return"".concat(r,"-").concat(a,"-").concat(t)}{let e=new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:t.name,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}}function o(e){let r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){let[a,t,i]=e.split("-").map(Number);r=new Date(a,t-1,i)}else r=new Date(e)}else r=e;if(a)return r.toLocaleString("es-PY",{timeZone:t.name,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});if(!("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)))return r.toLocaleDateString("es-PY",{timeZone:t.name,day:"2-digit",month:"2-digit",year:"numeric"});{let[r,a,t]=e.split("-");return"".concat(t.padStart(2,"0"),"/").concat(a.padStart(2,"0"),"/").concat(r)}}},94508:function(e,r,a){"use strict";a.d(r,{Fw:function(){return o},Ji:function(){return n},m9:function(){return l},p6:function(){return s},sQ:function(){return d},sU:function(){return c},xG:function(){return i}});var t=a(45365);function i(e){return new Intl.NumberFormat("es-PY",{style:"currency",currency:"PYG",minimumFractionDigits:0}).format(e)}function s(e){return(0,t._4)(e,!1)}function o(e){let r=(0,t.tF)(),a=new Date(new Date(e).getTime()+108e5),i=r.getUTCFullYear()-a.getUTCFullYear(),s=r.getUTCMonth()-a.getUTCMonth();return(s<0||0===s&&r.getUTCDate()<a.getUTCDate())&&i--,i}function n(){return(0,t.LJ)()}function l(e){let r=e.replace(/\D/g,"");return r?r.replace(/\B(?=(\d{3})+(?!\d))/g,"."):""}function c(e){return parseInt(e.replace(/\./g,""))||0}function d(e){return Math.round(e)}},32660:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(39763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},45675:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(39763).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},99397:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98728:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(39763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},18930:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},32489:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(39763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[3643,9690,2971,2117,1744],function(){return e(e.s=63002)}),_N_E=e.O()}]);