(()=>{var e={};e.id=7061,e.ids=[7061],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},35919:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(15348),s(11506),s(35866);var t=s(23191),r=s(88716),i=s(37922),n=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(a,l);let d=["",{children:["admin",{children:["configuracion-sistema",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,15348)),"C:\\Garden\\app\\admin\\configuracion-sistema\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"C:\\Garden\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Garden\\app\\admin\\configuracion-sistema\\page.tsx"],m="/admin/configuracion-sistema/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/configuracion-sistema/page",pathname:"/admin/configuracion-sistema",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73268:(e,a,s)=>{Promise.resolve().then(s.bind(s,59803))},59803:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p});var t=s(10326),r=s(64447),i=s(17577),n=s(48998),o=s(76557);let l=(0,o.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var d=s(18019);let c=(0,o.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var m=s(60068);let u=[{name:"America/Asuncion",offset:-3,description:"Paraguay (UTC-3)"},{name:"America/Asuncion",offset:-4,description:"Paraguay - Invierno (UTC-4)"},{name:"America/Buenos_Aires",offset:-3,description:"Argentina (UTC-3)"},{name:"America/Sao_Paulo",offset:-3,description:"Brasil (UTC-3)"},{name:"America/Montevideo",offset:-3,description:"Uruguay (UTC-3)"},{name:"America/Santiago",offset:-3,description:"Chile - Verano (UTC-3)"},{name:"America/Santiago",offset:-4,description:"Chile - Invierno (UTC-4)"},{name:"UTC",offset:0,description:"UTC (UTC+0)"}];function p(){let[e,a]=(0,i.useState)(new Date),[s,o]=(0,i.useState)(u.find(e=>e.offset===m.D2.offsetHours)||u[0]),[p,f]=(0,i.useState)(""),[g,x]=(0,i.useState)(!1),h=async()=>{x(!0),f("");try{(await fetch("/api/config/timezone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,offset:s.offset,description:s.description}),credentials:"include"})).ok?f("✅ Configuraci\xf3n guardada correctamente. Se aplicar\xe1 en el pr\xf3ximo reinicio del servidor."):f("❌ Error al guardar la configuraci\xf3n")}catch(e){console.error("Error:",e),f("❌ Error de conexi\xf3n")}finally{x(!1)}};return t.jsx(r.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(n.Z,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraci\xf3n de Fecha y Hora del Sistema"})]}),t.jsx("p",{className:"text-gray-600 ml-12",children:"Configura la zona horaria que se aplicar\xe1 a todo el sistema"})]}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg shadow-sm border border-blue-200 p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-sm mb-4",children:[t.jsx(l,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-600",children:m.D2.description})]}),t.jsx("div",{className:"text-6xl font-bold text-gray-900 mb-2 font-mono",children:e.toLocaleTimeString("es-PY",{timeZone:m.D2.name,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),t.jsx("div",{className:"text-2xl text-gray-700",children:(0,m._4)(e,!1)})]})}),t.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(d.Z,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Configuraci\xf3n Actual:"}),(0,t.jsxs)("ul",{className:"space-y-1 ml-4",children:[(0,t.jsxs)("li",{children:["• Zona Horaria: ",t.jsx("span",{className:"font-mono",children:m.D2.name})]}),(0,t.jsxs)("li",{children:["• Offset: ",(0,t.jsxs)("span",{className:"font-mono",children:["UTC",m.D2.offsetHours>=0?"+":"",m.D2.offsetHours]})]}),(0,t.jsxs)("li",{children:["• Descripci\xf3n: ",m.D2.description]})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cambiar Zona Horaria"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Zona Horaria"}),t.jsx("select",{value:`${s.name}|${s.offset}`,onChange:e=>{let[a,s]=e.target.value.split("|"),t=u.find(e=>e.name===a&&e.offset===parseInt(s));t&&o(t)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u.map((e,a)=>(0,t.jsxs)("option",{value:`${e.name}|${e.offset}`,children:[e.description," (UTC",e.offset>=0?"+":"",e.offset,")"]},a))})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vista Previa con nueva configuraci\xf3n:"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:["• Zona Horaria: ",t.jsx("span",{className:"font-mono",children:s.name})]}),(0,t.jsxs)("p",{children:["• Offset: ",(0,t.jsxs)("span",{className:"font-mono",children:["UTC",s.offset>=0?"+":"",s.offset]})]}),(0,t.jsxs)("p",{children:["• Descripci\xf3n: ",s.description]}),(0,t.jsxs)("p",{children:["• Hora local actual: ",t.jsx("span",{className:"font-mono font-semibold",children:new Date().toLocaleTimeString("es-PY",{timeZone:s.name,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]}),p&&t.jsx("div",{className:`p-4 rounded-lg ${p.includes("✅")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:p}),(0,t.jsxs)("button",{onClick:h,disabled:g||s.offset===m.D2.offsetHours,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:[t.jsx(c,{className:"w-5 h-5"}),g?"Guardando...":"Guardar Configuraci\xf3n"]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(d.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-yellow-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"⚠️ Importante:"}),(0,t.jsxs)("ul",{className:"space-y-1 ml-4",children:[t.jsx("li",{children:"• Los cambios se aplicar\xe1n despu\xe9s de reiniciar el servidor"}),t.jsx("li",{children:"• Todas las fechas y horas del sistema usar\xe1n la nueva zona horaria"}),t.jsx("li",{children:"• Los datos existentes no se modificar\xe1n, solo c\xf3mo se muestran"})]})]})]})})]})]})]})})}},60068:(e,a,s)=>{"use strict";s.d(a,{D2:()=>t,LJ:()=>i,_4:()=>n,tF:()=>r});let t={name:"America/Asuncion",offsetHours:-3,description:"Paraguay (UTC-3)"};function r(){let e=new Date,a=Object.fromEntries(new Intl.DateTimeFormat("en-CA",{timeZone:t.name,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e).map(e=>[e.type,e.value]));return new Date(parseInt(a.year),parseInt(a.month)-1,parseInt(a.day),parseInt(a.hour),parseInt(a.minute),parseInt(a.second))}function i(e){if(e){let a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${t}`}{let e=new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:t.name,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}}function n(e,a=!1){let s;if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){let[a,t,r]=e.split("-").map(Number);s=new Date(a,t-1,r)}else s=new Date(e)}else s=e;if(a)return s.toLocaleString("es-PY",{timeZone:t.name,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});if(!("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)))return s.toLocaleDateString("es-PY",{timeZone:t.name,day:"2-digit",month:"2-digit",year:"numeric"});{let[a,s,t]=e.split("-");return`${t.padStart(2,"0")}/${s.padStart(2,"0")}/${a}`}}},18019:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},15348:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Garden\app\admin\configuracion-sistema\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,4471,6837,8750],()=>s(35919));module.exports=t})();